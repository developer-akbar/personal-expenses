<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/settings.css">
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
</head>

<body>
    <div class="settings-container">
        <div class="group-container" id="account-group-container">
            <div class="cta-buttons sticky-container">
                <button id="add-account-group-btn">Add Account Group</button>
                <button id="add-account-btn">Add New Account</button>
            </div>
            <div id="account-groups-list" class="flex-container mapping-container"></div>
        </div>
        <div id="unmapped-accounts" class="mapping-container">
            <h3 id="unmapped-heading">Unmapped Accounts</h3>
            <div id="accounts-list"></div>
        </div>
        
        <!-- Add new buttons for categories and subcategories -->
        <div class="group-container" id="category-group-container">
            <div class="cta-buttons sticky-container">
                <button id="add-category-btn">Add New Category</button>
                <button id="add-subcategory-btn">Add New Subcategory</button>
            </div>
            <div id="categories-list" class="flex-container mapping-container"></div>
        </div>
    </div>

    <!-- Modal for adding/editing accounts -->
    <div id="account-modal" class="modal">
        <div class="modal-content">
            <span class="close-button close-account-btn">&times;</span>
            <h2 id="account-modal-title"></h2>
            <form id="account-form">
                <input type="hidden" id="account-id">
                <div class="form-row">
                    <label for="account-name">Account Name</label>
                    <input type="text" id="account-name" name="account-name" class="field" required>
                </div>
                <div class="form-row">
                    <label for="account-group-select">Account Group</label>
                    <select id="account-group-select" name="account-group-select" class="field" required></select>
                </div>
                <div class="form-row">
                    <button type="submit" class="submit-btn save-account-btn">Save</button>
                    <button type="button" class="delete-btn delete-account-btn">Delete Account</button>
                    <button type="button" class="cancel-btn cancel-account-btn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for adding/editing groups -->
    <div id="group-modal" class="modal">
        <div class="modal-content">
            <span class="close-button close-group-btn">&times;</span>
            <h2 id="modal-title"></h2>
            <form id="group-form">
                <input type="hidden" id="group-id">
                <div class="form-row">
                    <label for="group-name">Group Name</label>
                    <input type="text" id="group-name" name="group-name" class="field" required>
                </div>
                <div class="form-row">
                    <button type="submit" class="submit-btn save-group-btn">Save</button>
                    <button type="button" class="delete-btn delete-group-btn">Delete Group</button>
                    <button type="button" class="cancel-btn cancel-group-btn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for adding/editing categories -->
    <div id="category-modal" class="modal">
        <div class="modal-content">
            <span class="close-button close-category-btn">&times;</span>
            <h2 id="category-modal-title"></h2>
            <form id="category-form">
                <input type="hidden" id="category-id">
                <div class="form-row">
                    <label for="category-name">Category Name</label>
                    <input type="text" id="category-name" name="category-name" class="field" required>
                </div>
                <div class="form-row">
                    <button type="submit" class="submit-btn save-category-btn">Save</button>
                    <button type="button" class="delete-btn delete-category-btn">Delete Category</button>
                    <button type="button" class="cancel-btn cancel-category-btn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for adding/editing subcategories -->
    <div id="subcategory-modal" class="modal">
        <div class="modal-content">
            <span class="close-button close-subcategory-btn">&times;</span>
            <h2 id="subcategory-modal-title"></h2>
            <form id="subcategory-form">
                <input type="hidden" id="subcategory-id">
                <div class="form-row">
                    <label for="subcategory-name">Subcategory Name</label>
                    <input type="text" id="subcategory-name" name="subcategory-name" class="field" required>
                </div>
                <div class="form-row">
                    <label for="parent-category-select">Parent Category</label>
                    <select id="parent-category-select" name="parent-category-select" class="field" required></select>
                </div>
                <div class="form-row">
                    <button type="submit" class="submit-btn save-subcategory-btn">Save</button>
                    <button type="button" class="delete-btn delete-subcategory-btn">Delete Subcategory</button>
                    <button type="button" class="cancel-btn cancel-subcategory-btn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="group-select-modal" class="modal">
        <div class="modal-content">
            <span class="close-button close-group-select-btn">&times;</span>
            <h3>Select Account Group</h3>
            <ul id="group-select-list"></ul>
        </div>
    </div>

    <script src="scripts/settings.js"></script>
    <script src="scripts/categories-settings.js"></script>
</body>

</html>
